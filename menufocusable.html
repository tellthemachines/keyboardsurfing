<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>navigable dropdowns</title>
    <link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
    <link href="assets/stylesheets/prism.css" rel="stylesheet">
    <link href="assets/stylesheets/stylesheet.css" rel="stylesheet">

  </head>
  <body class="working-menu no-outline">
    <div class="container">
    <nav class="topnav navbar otherways" role="navigation">
        <ul class="nav">
            <li>
                <a href="index">Home</a>
            </li>
            <li class="dropdown">
                <a class="dropdown-toggle" href="#">Visibility</a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="whatvisibility">the outline thing</a>
                    </li>
                    <li>
                        <a href="visiblevisibility">the outline thing done properly</a>
                    </li>
                    <li>
                        <a href="otherways">other ways</a>
                    </li>
                </ul>
            </li>
            <li class="dropdown">
                <a class="dropdown-toggle" href="#">Focusability</a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="thecss">the css dropdown</a>
                    </li>
                    <li>
                        <a href="premenufocusable">a first focusable dropdown</a>
                    </li>
                    <li>
                        <a href="menufocusable">the definitive focusable dropdown</a>
                    </li>
                </ul>
            </li>
            <li class="dropdown">
                <a class="dropdown-toggle" href="#">Shortcuts</a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="brokenskip">the broken skip link</a>
                    </li>
                    <li>
                        <a href="workingskip">the working skip link</a>
                    </li>
                    <li>
                        <a href="skipimproved">a further improvement?</a>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <main id="main-content" class="no-outline text-body" tabindex="-1">
        <h1>the focusable dropdown</h1>
        <p>We need to hide the dropdowns in a way that doesn't render them unfocusable. There are several ways to do this but my personal favourite is the following:</p>
<div class="code-view">
<pre><code class="language-scss">li ul {
    position: absolute;
    clip: rect(1px, 1px, 1px, 1px);
}
li:hover ul,
li.focus ul {
    clip: auto;
}</code></pre>
</div>
    <p>Using the <code class="language-scss">clip</code> property we reduce our dropdowns to effectively zero width and height, then when the <code class="language-scss">.focus</code> class is applied to the parent <code class="language-html"><span class="token tag"><span class="token punctuation"><</span>li<span class="token punctuation">></span></span></code> we turn it to auto, giving it back its original width and height. And that's it! The menu is now keyboard navigable on all known browsers.</p>
    <p>Too easy, right? The problem with this technique is that <code class="language-scss">clip</code> is deprecated, and while it is still supported by most browsers it could disappear any time.</p>
    </main>
    <div class="pagination">
        <a class="previous" href="premenufocusable">previous page</a>
        <a class="next" href="brokenskip">next page</a>
    </div>
    </div>
    <script src="assets/scripts/libs/jquery-1.11.3.min.js"></script>
    <script src="assets/scripts/libs/prism.js"></script>
    <script>
    $(".dropdown").find("a").on("focus blur", function() {
        $(this).parents("li").toggleClass("focus");
    });
    </script>
  </body>
</html>
